# Description

This is lidar point cloud data preprocessing for MV3D. 

The delay between successive LiDAR frames is currently set as 1 second (1000ms) in a global variable named "delay". This can be altered to slow down or speed up the data playback.

The Kiti dataset import prototype is based on s-nepal 's work on https://github.com/bostondiditeam/kitti/tree/master/kitti_velodyne_reader

## Requirements:

--> CMake 2.8 or higher

--> PCL 1.2 or higher

## To compile the code:

--> Run cmake .

--> Run make

--> liblidar.dylib  will be generated(For OSX)

--> liblidar.so  will be generated(For UBUNTU)

## To call the dynamic library generated by make, run the python script file as follows:

--> python python_call_liblidar_test_ubuntu.py         (For UBUNTU)

--> python python_call_liblidar_test_osx.py         (For OSX)

## To specify lidar data source directory, lidar top view image saved directory, lidar front view image saved directory ... :

Modify the following directory path in python_call_liblidar_test_ubuntu.py (or python_call_liblidar_test_osx.py)

lidar_data_src_dir = "./raw/kitti/2011_09_26/2011_09_26_drive_0001_sync/velodyne_points/data/"

top_image_dst_dir = "./preprocessed/kitti/top_image/"

front_image_dst_dir = "./preprocessed/kitti/front_image/"

#### Note if those directories don't exist, create them first. Then the python script will save processed images in them.

## Suggestions

### To install PCL, use the following command on an Ubuntu terminal

sudo apt-get install build-essential cmake libpcl1.7 libpcl-dev pcl-tools

If you get the error No rule to make target '/usr/lib/x86_64-linux-gnu/libproj.so' while running the make command, do the following:

sudo apt install libproj-dev
    
Add the following line to the CMakeLists.txt file and run cmake . again to generate the Makefile:
		
list(REMOVE_ITEM PCL_LIBRARIES "vtkproj4")

Press "R" on the keyboard once the PCL window appears in order to normalize the camera view angle. Otherwise, simply zoom out using the mouse roller.

